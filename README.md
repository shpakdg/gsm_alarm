Алгоритм работы сигнализации

При подаче питания переходит в режим "Снято с охраны". В этом режиме ждет звонка с одного из 2х "знакомых" номеров (далее просто "звонка"). 
В режиме "Снято с охраны" при поступлении звонка кладет трубку, ждет 1 секунду и переходит в режим "Охрана", отправляет sms: "ARM".  При срабатывании датчика переходит в режим "Тревога", отправляет sms: "ALARM"+номер датчика, ждет 10 сек, включает сирену на 1 минуту после чего переходит в режим "Охрана", отправляет sms: "ARM".
В режиме  "Тревога" при поступлении звонка кладет трубку,  переходит в режим "Снято с охраны".
В режиме "Охрана" при поступлении звонка кладет трубку, ждет 1 секунду и переходит в режим "Снято с охраны", отправляет sms: "DISARM". 

Светодиод режима работы устройства (наружний и встроеный)
"Снято с охраны" - не горит
"Охрана" - горит постоянно
"Тревога" - мигает 2 раза в секунду

Режимы светодиодов 1-4
В режиме "Снято с охраны" показывает уровень сигнала GSM (все выключены - нет сигнала, 1-минимальный,4-максимальный)
В режиме "Охрана" или "Тревога" показывает с какого датчика пришла сработка

Режим светодиода "Статус"
горит во время поступления звонка и при отправки sms
